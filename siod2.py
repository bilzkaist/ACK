import json

path = "S:\\ACK\\"

dataBackup =  [{'sensor': 'Accelerometer', 'time': '1675594054890814700', 'seconds_elapsed': '0.093814697265625', 'z': '-0.013661384582519531', 'y': '-0.00014638900756835938', 'x': '-0.019019708037376404'}, {'sensor': 'Accelerometer', 'time': '1675594055934487600', 'seconds_elapsed': '1.137487548828125', 'z': '0.01445627212524414', 'y': '-0.034795284271240234', 'x': '-0.009269073605537415'}, {'sensor': 'Accelerometer', 'time': '1675594056978159000', 'seconds_elapsed': '2.1811591796875', 'z': '0.04423093795776367', 'y': '-0.04020881652832031', 'x': '-0.00564517080783844'}, {'sensor': 'Accelerometer', 'time': '1675594058021829600', 'seconds_elapsed': '3.22482958984375', 'z': '0.00376129150390625', 'y': '-0.022609710693359375', 'x': '0.0033352822065353394'}, {'sensor': 'Accelerometer', 'time': '1675594059065499600', 'seconds_elapsed': '4.268499755859375', 'z': '-0.013967514038085938', 'y': '-0.019303321838378906', 'x': '-0.008309058845043182'}, {'sensor': 'AccelerometerUncalibrated', 'time': '1675594055401262600', 'seconds_elapsed': '0.6042626953125', 'z': '7.396812915802002', 'y': '6.333502292633057', 'x': '0.14117653667926788'}, {'sensor': 'AccelerometerUncalibrated', 'time': '1675594056434994400', 'seconds_elapsed': '1.637994384765625', 'z': '7.388139247894287', 'y': '6.34217643737793', 'x': '0.12143574655056'}, {'sensor': 'AccelerometerUncalibrated', 'time': '1675594057468725500', 'seconds_elapsed': '2.6717255859375', 'z': '7.384549617767334', 'y': '6.348756790161133', 'x': '0.14267204701900482'}, {'sensor': 'AccelerometerUncalibrated', 'time': '1675594058502455800', 'seconds_elapsed': '3.705455810546875', 'z': '7.373483180999756', 'y': '6.363412857055664', 'x': '0.13310076296329498'}, {'sensor': 'Barometer', 'time': '1675594054815451100', 'seconds_elapsed': '0.018451171875', 'relativeAltitude': '0', 'pressure': '1019.218994140625'}, {'sensor': 'Barometer', 'time': '1675594055815451100', 'seconds_elapsed': '1.018451171875', 'relativeAltitude': '-0.1162567138671875', 'pressure': '1019.23291015625'}, {'sensor': 'Barometer', 'time': '1675594056815451100', 'seconds_elapsed': '2.018451171875', 'relativeAltitude': '-0.052845001220703125', 'pressure': '1019.225341796875'}, {'sensor': 'Barometer', 'time': '1675594057815451100', 'seconds_elapsed': '3.018451171875', 'relativeAltitude': '-0.30121612548828125', 'pressure': '1019.255126953125'}, {'sensor': 'Barometer', 'time': '1675594058815451100', 'seconds_elapsed': '4.018451171875', 'relativeAltitude': '-0.1796722412109375', 'pressure': '1019.240478515625'}, {'sensor': 'Gravity', 'time': '1675594054890814700', 'seconds_elapsed': '0.093814697265625', 'z': '7.428685665130615', 'y': '6.400147914886475', 'x': '0.1520581990480423'}, {'sensor': 'Gravity', 'time': '1675594055934487600', 'seconds_elapsed': '1.137487548828125', 'z': '7.407824516296387', 'y': '6.424690246582031', 'x': '0.13370752334594727'}, {'sensor': 'Gravity', 'time': '1675594056978159000', 'seconds_elapsed': '2.1811591796875', 'z': '7.421327590942383', 'y': '6.40912389755249', 'x': '0.1320011019706726'}, {'sensor': 'Gravity', 'time': '1675594058021829600', 'seconds_elapsed': '3.22482958984375', 'z': '7.412492752075195', 'y': '6.418978691101074', 'x': '0.1484982967376709'}, {'sensor': 'Gravity', 'time': '1675594059065499600', 'seconds_elapsed': '4.268499755859375', 'z': '7.387485027313232', 'y': '6.448189735412598', 'x': '0.12765692174434662'}, {'sensor': 'Gyroscope', 'time': '1675594055098100500', 'seconds_elapsed': '0.3011005859375', 'z': '0.0038177953101694584', 'y': '0.00022906772210262716', 'x': '0.004504998680204153'}, {'sensor': 'Gyroscope', 'time': '1675594056131832800', 'seconds_elapsed': '1.334832763671875', 'z': '0.005497625097632408', 'y': '0.004275931045413017', 'x': '0.007024743594229221'}, {'sensor': 'Gyroscope', 'time': '1675594057165564200', 'seconds_elapsed': '2.368564208984375', 'z': '0.005726693198084831', 'y': '-0.00015271181473508477', 'x': '0.010842538438737392'}, {'sensor': 'Gyroscope', 'time': '1675594058199294700', 'seconds_elapsed': '3.402294677734375', 'z': '0.004428642801940441', 'y': '0.0029778804164379835', 'x': '0.009391776286065578'}, {'sensor': 'GyroscopeUncalibrated', 'time': '1675594054867691500', 'seconds_elapsed': '0.07069140625', 'z': '0.018936265259981155', 'y': '-0.03665083646774292', 'x': '0.007330167107284069'}, {'sensor': 'GyroscopeUncalibrated', 'time': '1675594055821906700', 'seconds_elapsed': '1.02490673828125', 'z': '-0.0012216945178806782', 'y': '-0.0030542362947016954', 'x': '0.014660334214568138'}, {'sensor': 'GyroscopeUncalibrated', 'time': '1675594056776121000', 'seconds_elapsed': '1.97912109375', 'z': '-0.0030542362947016954', 'y': '0.007330167107284069', 'x': '0.018936265259981155'}, {'sensor': 'GyroscopeUncalibrated', 'time': '1675594057730334500', 'seconds_elapsed': '2.93333447265625', 'z': '-0.004275931045413017', 'y': '0.0018325417768210173', 'x': '0.01954711228609085'}, {'sensor': 'GyroscopeUncalibrated', 'time': '1675594058684547300', 'seconds_elapsed': '3.88754736328125', 'z': '0.016492875292897224', 'y': '-0.03542914241552353', 'x': '0.009773556143045425'}, {'sensor': 'Light', 'time': '1675594055100586800', 'seconds_elapsed': '0.303586669921875', 'lux': '3'}, {'sensor': 'Light', 'time': '1675594056056172300', 'seconds_elapsed': '1.25917236328125', 'lux': '3'}, {'sensor': 'Light', 'time': '1675594056820645400', 'seconds_elapsed': '2.023645263671875', 'lux': '3'}, {'sensor': 'Light', 'time': '1675594057202891500', 'seconds_elapsed': '2.4058916015625', 'lux': '3'}, {'sensor': 'Light', 'time': '1675594057776251100', 'seconds_elapsed': '2.979251220703125', 'lux': '3'}, {'sensor': 'Light', 'time': '1675594057967362300', 'seconds_elapsed': '3.1703623046875', 'lux': '3'}, {'sensor': 'Light', 'time': '1675594059687366000', 'seconds_elapsed': '4.890365966796875', 'lux': '3'}, {'sensor': 'Location', 'time': '1675594055240000000', 'seconds_elapsed': '0.443', 'bearingAccuracy': '0', 'speedAccuracy': '0', 'verticalAccuracy': '1.0674691200256348', 'horizontalAccuracy': '13.03600025177002', 'speed': '0.051461391150951385', 'bearing': '0', 'altitude': '81.80000305175781', 'longitude': '127.3526465', 'latitude': '36.3643334'}, {'sensor': 'Magnetometer', 'time': '1675594054804282000', 'seconds_elapsed': '0.0072822265625', 'z': '-34.368751525878906', 'y': '17.4375', 'x': '23.493751525878906'}, {'sensor': 'Magnetometer', 'time': '1675594055764488700', 'seconds_elapsed': '0.96748876953125', 'z': '-34.59375', 'y': '17.887500762939453', 'x': '23.512500762939453'}, {'sensor': 'Magnetometer', 'time': '1675594056724281900', 'seconds_elapsed': '1.92728173828125', 'z': '-35.118751525878906', 'y': '18.225000381469727', 'x': '24.168750762939453'}, {'sensor': 'Magnetometer', 'time': '1675594057684282000', 'seconds_elapsed': '2.8872822265625', 'z': '-35.0625', 'y': '17.775001525878906', 'x': '23.34375'}, {'sensor': 'Magnetometer', 'time': '1675594058644281900', 'seconds_elapsed': '3.84728173828125', 'z': '-34.80000305175781', 'y': '17.587501525878906', 'x': '23.943750381469727'}, {'sensor': 'MagnetometerUncalibrated', 'time': '1675594054884282000', 'seconds_elapsed': '0.0872822265625', 'z': '-203.28750610351562', 'y': '-94.875', 'x': '26.55000114440918'}, {'sensor': 'MagnetometerUncalibrated', 'time': '1675594055844282000', 'seconds_elapsed': '1.0472822265625', 'z': '-204.0187530517578', 'y': '-95.08125305175781', 'x': '26.118751525878906'}, {'sensor': 'MagnetometerUncalibrated', 'time': '1675594056804282000', 'seconds_elapsed': '2.0072822265625', 'z': '-203.81251525878906', 'y': '-94.33125305175781', 'x': '27.11250114440918'}, {'sensor': 'MagnetometerUncalibrated', 'time': '1675594057764488400', 'seconds_elapsed': '2.967488525390625', 'z': '-204.63751220703125', 'y': '-95.00625610351562', 'x': '25.912500381469727'}, {'sensor': 'MagnetometerUncalibrated', 'time': '1675594058724282000', 'seconds_elapsed': '3.9272822265625', 'z': '-204.16876220703125', 'y': '-95.0250015258789', 'x': '26.193750381469727'}, {'sensor': 'Metadata', 'version': '3', 'device name': 'SM-F907N', 'recording time': '2023-02-05_10-47-34', 'platform': 'android', 'appVersion': '1.12.0', 'device id': '471ecb51-d551-4548-84ff-27c848d6a0d9', 'sensors': 'Accelerometer|Gravity|Gyroscope|Orientation|Magnetometer|Barometer|Location|Light|Annotation|TotalAcceleration|MagnetometerUncalibrated|GyroscopeUncalibrated|AccelerometerUncalibrated', 'sampleRateMs': '1000|1000|1000|1000|1000|1000|1000|0||1000|1000|1000|1000'}, {'sensor': 'Orientation', 'time': '1675594054682080000', 'seconds_elapsed': '-0.114919921875', 'qz': '0.3410440981388092', 'qy': '0.12092328816652298', 'qx': '0.32776549458503723', 'qw': '0.8727177381515503', 'roll': '-0.01653674989938736', 'pitch': '-0.7136188745498657', 'yaw': '-0.7512370944023132'}, {'sensor': 'Orientation', 'time': '1675594055725753000', 'seconds_elapsed': '0.928753173828125', 'qz': '0.3423599302768707', 'qy': '0.12092498689889908', 'qx': '0.3275269865989685', 'qw': '0.8722917437553406', 'roll': '-0.01758662983775139', 'pitch': '-0.7131216526031494', 'yaw': '-0.7545703053474426'}, {'sensor': 'Orientation', 'time': '1675594056769424600', 'seconds_elapsed': '1.972424560546875', 'qz': '0.34336361289024353', 'qy': '0.12109240144491196', 'qx': '0.3269112706184387', 'qw': '0.8721049427986145', 'roll': '-0.017553692683577538', 'pitch': '-0.7120133638381958', 'yaw': '-0.7566862106323242'}, {'sensor': 'Orientation', 'time': '1675594057813095700', 'seconds_elapsed': '3.016095703125', 'qz': '0.343904048204422', 'qy': '0.12073326855897903', 'qx': '0.32774779200553894', 'qw': '0.871627688407898', 'roll': '-0.019783757627010345', 'pitch': '-0.7133747935295105', 'yaw': '-0.7589772343635559'}, {'sensor': 'Orientation', 'time': '1675594058856765700', 'seconds_elapsed': '4.059765625', 'qz': '0.3394830524921417', 'qy': '0.12042652070522308', 'qx': '0.32934921979904175', 'qw': '0.8727988600730896', 'roll': '-0.017769696190953255', 'pitch': '-0.7164037823677063', 'yaw': '-0.7485567927360535'}, {'sensor': 'TotalAcceleration', 'time': '1675594054872661200', 'seconds_elapsed': '0.0756611328125', 'z': '7.345067977905273', 'y': '6.250949859619141', 'x': '0.19142581522464752'}, {'sensor': 'TotalAcceleration', 'time': '1675594055826876700', 'seconds_elapsed': '1.029876708984375', 'z': '7.313961505889893', 'y': '6.372983932495117', 'x': '0.16031911969184875'}, {'sensor': 'TotalAcceleration', 'time': '1675594056781090800', 'seconds_elapsed': '1.9840908203125', 'z': '7.371389389038086', 'y': '6.301199436187744', 'x': '0.14117653667926788'}, {'sensor': 'TotalAcceleration', 'time': '1675594057735304400', 'seconds_elapsed': '2.938304443359375', 'z': '7.3761749267578125', 'y': '6.346662998199463', 'x': '0.19142581522464752'}, {'sensor': 'TotalAcceleration', 'time': '1675594058689517000', 'seconds_elapsed': '3.89251708984375', 'z': '7.433602809906006', 'y': '6.325127601623535', 'x': '0.11006984114646912'}]



def indoor_outdoor_detection(json_data):
    accelerometer_data = []
    barometer_data = []
    gravity_data = []
     
    
    # Load the JSON data
    data = json.loads(json_data)
    print(".................... ............. ....")
    print("data = ",data)

    # Extract data for each sensor type
    for datapoint in data:
        if datapoint['sensor'] == 'Accelerometer':
            accelerometer_data.append((datapoint['time'], datapoint['x'], datapoint['y'], datapoint['z']))
        elif datapoint['sensor'] == 'Barometer':
            barometer_data.append((datapoint['time'], datapoint['pressure'], datapoint['relativeAltitude']))
        elif datapoint['sensor'] == 'Gravity':
            gravity_data.append((datapoint['time'], datapoint['x'], datapoint['y'], datapoint['z']))

    # Use the data to determine if it's indoor or outdoor
    # Example: Using average of x-axis data from Accelerometer and Gravity sensors
    x_accelerometer_average = sum(x for _, x, _, _ in accelerometer_data) / len(accelerometer_data)
    x_gravity_average = sum(x for _, x, _, _ in gravity_data) / len(gravity_data)
    average_x = (x_accelerometer_average + x_gravity_average) / 2

    if average_x > 0.1:
        return 'Outdoor'
    else:
        return 'Indoor'



# Open the JSON file for reading
with open(path + "data.json", "r") as file:
    # Load the contents of the file into a Python object
    data = json.load(file)

# The data is now stored in the "data" variable and can be used in your program
print(data)

json_data = json.dumps(data)
#json_data = "[{...}]" # paste the JSON data here

#data = json.loads(json_data)

result = indoor_outdoor_detection(json_data)

print(result)